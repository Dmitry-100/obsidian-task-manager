// =============================================================================
// Layout Component ‚Äî –û–±—â–∏–π –º–∞–∫–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
// =============================================================================
// Layout –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç:
//   - Header (—à–∞–ø–∫—É) —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
//   - Main area (–æ–±–ª–∞—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
//   - Footer (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
//
// –ü–∞—Ç—Ç–µ—Ä–Ω Layout:
//   React Router –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å "–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã" (nested routes).
//   Layout —Ä–µ–Ω–¥–µ—Ä–∏—Ç <Outlet /> –∫—É–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
//
// –ü—Ä–∏–º–µ—Ä:
//   /            ‚Üí Layout + Dashboard
//   /projects    ‚Üí Layout + Projects
//   /tasks       ‚Üí Layout + Tasks
// =============================================================================

import { Link, Outlet, useLocation } from 'react-router-dom';
// Link ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–≤–º–µ—Å—Ç–æ <a href>)
// Outlet ‚Äî –º–µ—Å—Ç–æ –∫—É–¥–∞ React Router –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π —Ä–æ—É—Ç
// useLocation ‚Äî —Ö—É–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ URL

import { cn } from '@/lib/utils';
// cn ‚Äî —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è CSS –∫–ª–∞—Å—Å–æ–≤

// -----------------------------------------------------------------------------
// –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
// -----------------------------------------------------------------------------
const navItems = [
  { path: '/', label: 'Dashboard' },
  { path: '/projects', label: '–ü—Ä–æ–µ–∫—Ç—ã' },
  { path: '/tasks', label: '–ó–∞–¥–∞—á–∏' },
];

// -----------------------------------------------------------------------------
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Layout
// -----------------------------------------------------------------------------
export function Layout() {
  // useLocation() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–µ–∫—É—â–µ–º URL
  // pathname ‚Äî –ø—É—Ç—å –±–µ–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä "/projects")
  const location = useLocation();

  return (
    <div className="min-h-screen bg-background">
      {/* -----------------------------------------------------------------------
       * Header (–®–∞–ø–∫–∞)
       * sticky top-0 ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤–≤–µ—Ä—Ö—É –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
       * z-50 ‚Äî –≤—ã—Å–æ–∫–∏–π z-index —á—Ç–æ–±—ã –±—ã—Ç—å –ø–æ–≤–µ—Ä—Ö –∫–æ–Ω—Ç–µ–Ω—Ç–∞
       * border-b ‚Äî –ª–∏–Ω–∏—è —Å–Ω–∏–∑—É
       * ----------------------------------------------------------------------- */}
      <header className="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
        <div className="max-w-7xl mx-auto px-4">
          {/* -------------------------------------------------------------------
           * –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —à–∞–ø–∫–∏
           * h-16 ‚Äî –≤—ã—Å–æ—Ç–∞ 64px
           * flex items-center ‚Äî flexbox —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º
           * ------------------------------------------------------------------- */}
          <div className="flex h-16 items-center justify-between">
            {/* -----------------------------------------------------------------
             * –õ–æ–≥–æ—Ç–∏–ø
             * ----------------------------------------------------------------- */}
            <Link to="/" className="flex items-center gap-2">
              <span className="text-2xl">üìã</span>
              <span className="font-bold text-xl">Task Manager</span>
            </Link>

            {/* -----------------------------------------------------------------
             * –ù–∞–≤–∏–≥–∞—Ü–∏—è
             * gap-6 ‚Äî –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É —Å—Å—ã–ª–∫–∞–º–∏ 24px
             * ----------------------------------------------------------------- */}
            <nav className="flex items-center gap-6">
              {navItems.map((item) => (
                <Link
                  key={item.path}
                  to={item.path}
                  className={cn(
                    // –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏
                    'text-sm font-medium transition-colors hover:text-primary',
                    // –£—Å–ª–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è —Å—Å—ã–ª–∫–∞
                    location.pathname === item.path
                      ? 'text-foreground'  // –ê–∫—Ç–∏–≤–Ω–∞—è ‚Äî —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç
                      : 'text-muted-foreground'  // –ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è ‚Äî —Å–µ—Ä—ã–π —Ç–µ–∫—Å—Ç
                  )}
                >
                  {item.label}
                </Link>
              ))}
            </nav>
          </div>
        </div>
      </header>

      {/* -----------------------------------------------------------------------
       * Main Content Area
       * <Outlet /> ‚Äî —Å—é–¥–∞ React Router –ø–æ–¥—Å—Ç–∞–≤–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
       * py-8 ‚Äî –æ—Ç—Å—Ç—É–ø—ã —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É 32px
       * ----------------------------------------------------------------------- */}
      <main className="max-w-7xl mx-auto px-4 py-8">
        <Outlet />
      </main>

      {/* -----------------------------------------------------------------------
       * Footer (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
       * –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ: —Å—Å—ã–ª–∫–∏, –∫–æ–ø–∏—Ä–∞–π—Ç, –≤–µ—Ä—Å–∏—é
       * ----------------------------------------------------------------------- */}
      {/* <footer className="border-t py-6 text-center text-sm text-muted-foreground">
        ¬© 2026 Task Manager
      </footer> */}
    </div>
  );
}

export default Layout;
