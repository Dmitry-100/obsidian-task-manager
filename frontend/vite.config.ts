// =============================================================================
// Vite Configuration
// =============================================================================
// Vite — это современный сборщик (bundler) для frontend приложений.
// Он значительно быстрее webpack благодаря:
//   - ESM (ES Modules) в режиме разработки — нет бандлинга!
//   - esbuild для транспиляции TypeScript — в 100x быстрее tsc
//   - Rollup для production сборки — оптимальный бандл
//
// Документация: https://vitejs.dev/config/
// =============================================================================

import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  // ---------------------------------------------------------------------------
  // Плагины
  // ---------------------------------------------------------------------------
  // @vitejs/plugin-react — поддержка React в Vite:
  //   - JSX трансформация
  //   - Fast Refresh (HMR для React компонентов)
  //   - Babel для production
  // ---------------------------------------------------------------------------
  plugins: [react()],

  // ---------------------------------------------------------------------------
  // Разрешение модулей (resolve)
  // ---------------------------------------------------------------------------
  // alias — позволяет использовать короткие пути вместо относительных:
  //   '@/components/Button' вместо '../../../components/Button'
  //
  // Это удобно когда проект растёт и папки становятся глубже.
  // Важно: такой же alias должен быть в tsconfig.json для TypeScript!
  // ---------------------------------------------------------------------------
  resolve: {
    alias: {
      // @ -> src/ (корень исходников)
      '@': path.resolve(__dirname, './src'),
    },
  },

  // ---------------------------------------------------------------------------
  // Настройки сервера разработки (опционально)
  // ---------------------------------------------------------------------------
  // server: {
  //   port: 5173,           // Порт (по умолчанию 5173)
  //   open: true,           // Открыть браузер автоматически
  //   proxy: {              // Проксирование API запросов
  //     '/api': 'http://localhost:8000',
  //   },
  // },
});
